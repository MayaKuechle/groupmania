<html>
  <head>
  	<title>Posts</title>
  	<meta charset="UTF-8">	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
	<script type="text/javascript" language="javascript" src="https://code.jquery.com/jquery-3.3.1.js"></script>
	<script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
	<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
	<script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
	<script src="../../extensions/Editor/js/dataTables.editor.min.js"></script>
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/jqc-1.12.4/dt-1.10.22/b-1.6.5/sl-1.3.1/datatables.min.css"/>
	<link rel="stylesheet" type="text/css" href="Editor-1.9.6/css/editor.dataTables.css">
	<link rel="stylesheet" type="text/css" href="DataTables/datatables.min.css"/>
	<script type="text/javascript" src="DataTables/datatables.min.js"></script>
	<script type="text/javascript" src="https://cdn.datatables.net/v/dt/jqc-1.12.4/dt-1.10.22/b-1.6.5/sl-1.3.1/datatables.min.js"></script>
	<script type="text/javascript" src="Editor-1.9.6/js/dataTables.editor.js"></script>
	<script src='jquery-3.2.1.min.js'></script>

    <script>
      var editor; // use a global for the submit and return data rendering in the examples
 
		$(document).ready(function() {
			editor = new $.fn.dataTable.Editor( {
				ajax: "../php/staff.php",
				table: "#example",
				fields: [ {
						label: "First name:",
						name: "first_name"
					}, {
						label: "Last name:",
						name: "last_name"
					}, {
						label: "Position:",
						name: "position"
					}, {
						label: "Office:",
						name: "office"
					}, {
						label: "Extension:",
						name: "extn"
					}, {
						label: "Start date:",
						name: "start_date",
						type: "datetime"
					}, {
						label: "Salary:",
						name: "salary"
					}
				],
				formOptions: {
					bubble: {
						title: 'Edit',
						buttons: false
					}
				}
			} );
		
			$('button.new').on( 'click', function () {
				editor
					.title( 'Create new row' )
					.buttons( { "label": "Add", "fn": function () { editor.submit() } } )
					.create();
			} );
		
			$('#example').on( 'click', 'tbody td', function (e) {
				if ( $(this).index() < 6 ) {
					editor.bubble( this );
				}
			} );
		
			$('#example').on( 'click', 'a.remove', function (e) {
				editor
					.title( 'Delete row' )
					.message( 'Are you sure you wish to delete this row?' )
					.buttons( { "label": "Delete", "fn": function () { editor.submit() } } )
					.remove( $(this).closest('tr') );
			} );
		
			$('#example').DataTable( {
				ajax: "../php/staff.php",
				columns: [
					{ data: "first_name" },
					{ data: "last_name" },
					{ data: "position" },
					{ data: "office" },
					{ data: "start_date" },
					{ data: "salary", render: $.fn.dataTable.render.number( ',', '.', 0, '$' ) },
					{
						data: null,
						defaultContent: '<a href="#" class="remove">Delete</a>',
						orderable: false
					},
				]
			} );
		} );
	</script>  

  </head>
  <body>
	<button class="new">Create new row</button>
    <table id="example" class="display" cellspacing="0" width="100%">
        <thead>
            <tr>
				<th>Title</th>
                <th>First name</th>
                <th>Last name</th>
                <th>Date Created</th>
                <th></th>
            </tr>
        </thead>
    </table>
  </body>
</html>